---
version: "2.4"
services:
  pialert:
    container_name: pialert
    image: "jokobsk/pi.alert:latest"      
    network_mode: "host"        
    restart: unless-stopped
    labels:
      - traefik.enable=true
      - traefik.http.services.pialert.loadbalancer.server.port=20211
      # - traefik.http.services.pialert.loadbalancer.server.url=http://192.168.0.202
    volumes:
      - ./config:/home/pi/pialert/config
      - ./db/pialert.db:/home/pi/pialert/db/pialert.db
      - ./db/setting_darkmode:/home/pi/pialert/db/setting_darkmode
      - ./log:/home/pi/pialert/log
    environment:
      - TZ=Australia/Melbourne
      - PORT=20211
      - HOST_USER_ID=9001
      - HOST_USER_GID=9001