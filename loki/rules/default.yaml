groups:
  - name: should_fire
    interval: 1m
    rules:
      - alert: Blocknews limit reached
        expr: |
          max(count by(container_name) (rate({container_name="sabnzbd"} |= `block quota exceeded` [5m]))) > 0
        annotations:
          summary: Block news limit reached
          description: Block news limit reached. Purchase additional blocks
      - alert: Upgrade failed
        expr: |
          sum(rate({job="docker-backup-upgrade"} |= `Error upgrading` | pattern `<message>` [1m])) by (message) > 0
        annotations:
          summary: "Upgrading container failed - {{ $labels.message }}"
