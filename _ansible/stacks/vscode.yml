vscode:
  services:
  - name: vscode
    image: codercom/code-server:4.104.2@sha256:6edc8e2d2849749c1a1a5eff8e76563b96db407e68899c143473a6004d0a6b5a
    exposed:
      internal: true
      external: true
      port: 8080
    user: '{{ userId }}:{{ groupId }}'
    env:
      - DOCKER_USER=ctrdata
    volumes:
      - local: local
        container: /home/coder/.local
      - local: config
        container: /home/coder/.config
      - local: code
        container: /home/coder/project
      - file: .gitconfig
        container: /home/coder/.gitconfig
    healthcheck:
      url: http://localhost:8080/healthz
