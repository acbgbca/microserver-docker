template:
  rootEnv:
    externalDomain: '{{ externalDomain }}'
    internalDomain: '{{ internalDomain }}'
  envFile:
    secret: "secret"
  services:
  - name: template
    image: template:latest
    envFile: true
    exposed:
      internal: true
      external: true
      port: 3000
    ports:
      - 8080:8080
    user: '{{ userId }}:{{ groupId }}'
    env:
      TZ: '{{ timezone }}'
      PUID: '{{ userId }}'
      PGID: '{{ groupId }}'
    volumes:
      - local: config # Local directory, backed up
        container: /config
      - data: data # Separate data directory, not backed up
        container: /data
      - shared: videos # Shared directory with external files
        container: /videos
      - filesystem: /var/log # Filesystem path
        container: /logs
      - file: file.txt # File within the stack directory
        container: /path/file
    healthcheck:
      url: http://localhost/
      tool: wget # optional. Defaults to curl
